<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <nav th:replace="fragments :: head"></nav>

    <header>
        <nav th:replace="fragments :: mainHeader"></nav>
    </header>

    <style>
        #map {
            height: 400px;
            margin-bottom: 20px;
        }
        .card {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<main>
    <nav th:replace="fragments :: catButtons"></nav>

    <h1>Cat Rescue Organization</h1>

    <div class="card">
        <div class="card-body">
            <h2>Account Overview</h2>
            <p>Thank you for being a part of our cat rescue organization! Here's an overview of your account:</p>
            <ul>
                <li><strong>Donation Amount:</strong> $50.00</li>
                <li><strong>Last Donation:</strong> January 1, 2022</li>
                <li><strong>Number of Cats Helped:</strong> 10</li>
                <li><strong>Upcoming Events:</strong> Kitten Adoption Day on May 15, 2023</li>
            </ul>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h2>Map of Cat Rescue Locations</h2>
            <p>Here are the locations of the cats on a map:</p>
            <div id="map"></div>
        </div>
    </div>
    <div>
        <script>
            var map = L.map('map').setView([39.072694, -94.546593], 16);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(map);

   var kittyIcon = L.icon({
    iconUrl: '/catimages/cuteKitty.png',
    iconSize:     [38, 38], // size of the icon
    iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
    popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
});

L.marker([39.072694, -94.546593], {icon: kittyIcon}).addTo(map).bindPopup('Meow');
L.marker([39.072877, -94.546943], {icon: kittyIcon}).addTo(map).bindPopup('Meow');
L.marker([39.073173, -94.545918], {icon: kittyIcon}).addTo(map).bindPopup('Rawr');
L.marker([39.072357, -94.546492], {icon: kittyIcon}).addTo(map).bindPopup('Meow');
L.marker([39.072844, -94.547104], {icon: kittyIcon}).addTo(map).bindPopup('Meow');
L.marker([39.072648, -94.546584], {icon: kittyIcon}).addTo(map).bindPopup('Meow');
var popup = L.popup();

 // Add the marker on map click
    var marker = null;
    map.on('click', function(e) {
        if (marker) {
            map.removeLayer(marker);
        }
        marker = L.marker(e.latlng).addTo(map);
        document.getElementById('catLat').value = e.latlng.lat;
        document.getElementById('catLng').value = e.latlng.lng;
    });
map.on('click', function());


        </script>
    </div>

    <form method="post">

        <input type="submit" class="btn btn-success" value="Log Out">
    </form>
</main>


</body>
</html>
